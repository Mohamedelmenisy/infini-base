<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfiniBase - Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to right, #1a202c, #2d3748); /* Dark gradient */
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
        }
        .signup-container {
            background: #2d3748; /* Dark card background */
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            width: 100%;
            max-width: 450px; /* Slightly wider for more fields */
            text-align: center;
        }
        .input-icon {
            position: relative;
            margin-bottom: 1rem;
        }
        .input-icon i {
            position: absolute;
            left: 12px; /* Adjusted for padding */
            top: 50%;
            transform: translateY(-50%);
            color: #a0aec0; /* Tailwind gray-500 */
        }
        .input-icon input, .input-icon select {
            padding-left: 40px; /* Space for icon */
            width: 100%;
            padding-top: 0.75rem; padding-bottom: 0.75rem; /* Tailwind p-3 */
            border-radius: 0.375rem; /* Tailwind rounded-md */
            background-color: #4a5568; /* Tailwind gray-700 */
            border: 1px solid #718096; /* Tailwind gray-600 */
            color: white;
        }
        .input-icon input:focus, .input-icon select:focus {
            outline: none;
            box-shadow: 0 0 0 2px #4299e1; /* Tailwind ring-blue-500 */
            border-color: #4299e1; /* Tailwind blue-500 */
        }
        .signup-button {
            width: 100%;
            padding: 0.75rem;
            background-color: #4299e1; /* Tailwind blue-600 */
            color: white;
            border-radius: 0.375rem;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .signup-button:hover {
            background-color: #2b6cb0; /* Tailwind blue-700 */
        }
        #errorMessageSignup {
            color: #f56565; /* Tailwind red-500 */
            background-color: rgba(245, 101, 101, 0.1);
            border: 1px solid rgba(245, 101, 101, 0.3);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 1rem;
        }
        #successMessage {
            color: #48bb78; /* Tailwind green-500 */
            background-color: rgba(72, 187, 120, 0.1);
            border: 1px solid rgba(72, 187, 120, 0.3);
            padding: 10px;
            border-radius: 6px;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="signup-container">
        <h2 class="text-3xl font-bold text-white mb-2">Create InfiniBase Account</h2>
        <p class="text-gray-400 mb-6">Join our platform to manage your knowledge base.</p>
        
        <div id="errorMessageSignup" class="hidden"></div>

        <div id="signupFormContainer">
            <div class="input-icon">
                <i class="fas fa-user"></i>
                <input type="text" id="fullNameInput" placeholder="Full Name" required>
            </div>
            <div class="input-icon">
                <i class="fas fa-envelope"></i>
                <input type="email" id="emailInputSignup" placeholder="Work Email" required>
            </div>
            <div class="input-icon">
                <i class="fas fa-lock"></i>
                <input type="password" id="passwordInputSignup" placeholder="Password" required>
            </div>
            <div class="input-icon">
                <i class="fas fa-user-shield"></i>
                <select id="roleInput" class="w-full p-3">
                    <option value="viewer">Viewer</option>
                    <option value="admin">Administrator</option>
                </select>
            </div>
            <button id="signupBtn" class="signup-button">Sign Up</button>
            <p class="mt-4 text-gray-400 text-sm">
                Already have an account? <a href="login.html" class="text-blue-400 hover:underline">Login here</a>
            </p>
        </div>
        <div id="successMessage" class="hidden">
            Sign up successful! You will be redirected to login page shortly.
            If not redirected, <a href="login.html" class="text-blue-300 hover:underline font-semibold">click here to log in</a>.
        </div>
    </div>

    <script>
        document.getElementById('signupBtn').addEventListener('click', () => {
            const fullNameInput = document.getElementById('fullNameInput');
            const emailInput = document.getElementById('emailInputSignup');
            const passwordInput = document.getElementById('passwordInputSignup');
            
            const fullName = fullNameInput.value.trim();
            const email = emailInput.value.trim();
            const password = passwordInput.value;
            const role = document.getElementById('roleInput').value;

            const errorDiv = document.getElementById('errorMessageSignup');
            errorDiv.classList.add('hidden'); // Hide previous errors

            if (!fullName) {
                errorDiv.textContent = 'Please enter your full name.';
                errorDiv.classList.remove('hidden');
                fullNameInput.focus();
                return;
            }
            if (!email || !/^\S+@\S+\.\S+$/.test(email)) { // Basic email validation
                errorDiv.textContent = 'Please enter a valid email address.';
                errorDiv.classList.remove('hidden');
                emailInput.focus();
                return;
            }
            if (!password || password.length < 6) { // Basic password length check
                errorDiv.textContent = 'Password must be at least 6 characters long.';
                errorDiv.classList.remove('hidden');
                passwordInput.focus();
                return;
            }

            // Simulate storing user for login page to pick up
            // This is a client-side simulation for the requested flow.
            localStorage.setItem('pendingSignupFullName', fullName);
            localStorage.setItem('pendingSignupEmail', email);
            localStorage.setItem('pendingSignupRole', role);
            // Note: In a real app, password would be hashed and sent to a server.
            // Here, we don't store the password directly in localStorage for login.html to use.
            // login.html will still require password input for its simulation.
            
            console.log('Simulated Signup (data prepared for login page):', { fullName, email, role });
            
            document.getElementById('signupFormContainer').classList.add('hidden');
            document.getElementById('errorMessageSignup').classList.add('hidden'); // Hide error if shown before success
            document.getElementById('successMessage').classList.remove('hidden');

            setTimeout(() => {
                window.location.href = 'login.html'; // Redirect to login after a short delay
            }, 3000);
        });
    </script>
</body>
</html>
